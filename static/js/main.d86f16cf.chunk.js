(this["webpackJsonpnlp-sentiment-analysis"]=this["webpackJsonpnlp-sentiment-analysis"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),i=n.n(c),s=(n(18),n(19),n(20),n(0));function u(e){var t=e.tabs,n=e.currentTab,r=e.goToTab;return Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{"data-selected-index":n+1,children:t.map((function(e,t){return Object(s.jsx)("li",{onClick:function(){return r(t)},children:e.name},t)}))})})}var l=n(11),o=n(3);function d(e,t){if(!t.words)return[Object(s.jsxs)("span",{children:[e," "]})];for(var n=e.split(""),r=0,a=0,c=0,i=[];!(c>=n.length);){if(r>=t.words.length){i.push(Object(s.jsx)("span",{children:n.slice(a,n.length).join("")}));break}c!==t.wordIndexs[r][0]?c++:(c!==a&&i.push(Object(s.jsx)("span",{children:n.slice(a,c).join("")})),i.push(Object(s.jsx)("span",{className:"dms-span "+t.words[r][1],children:n.slice(c,t.wordIndexs[r][1]).join("")})),c=a=t.wordIndexs[r][1],r++)}return i}n(22);var j=n(2),b=n.n(j),h=n(4),p="http://47.102.203.5";function f(e){return x.apply(this,arguments)}function x(){return(x=Object(h.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/analyze"),{method:"POST",body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(24);var O=n(6),m=n(10);function v(e,t){null!==e&&0!==t.length&&m.a(e).setOption({tooltip:{trigger:"item"},legend:{top:"12px",left:"center"},series:[{type:"pie",radius:["24px","60px"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"outside"},labelLine:{show:!1},data:t}]})}var y={getDataForAttitudePie:function(e){return e.reduce((function(e,t){return e.includes(t.attitude)?e:[].concat(Object(O.a)(e),[t.attitude])}),[]).map((function(t){return{name:t,value:e.reduce((function(e,n){return n.attitude===t?e+1:e}),0)}}))},getDataForDimensionPie:function(e){return e.map((function(e){return e.textFeatures.words.map((function(e){return e[1]}))})).flat().reduce((function(e,t,n,r){for(var a in e)if(e[a].name===t)return e[a].value++,e;return[].concat(Object(O.a)(e),[{name:t,value:1}])}),[])}},g=[];var T=[{name:"\u5355\u6761\u5206\u6790",component:function(){var e=function(){var e=Object(r.useState)("\u7b49\u5f85\u8f93\u5165\u8bc4\u8bba"),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)("\u7b49\u5f85\u8f93\u5165\u8bc4\u8bba"),s=Object(o.a)(i,2),u=s[0],l=s[1],d=Object(r.useState)({}),j=Object(o.a)(d,2),p=j[0],x=j[1],O=Object(r.useState)("\u7b49\u5f85\u8f93\u5165\u8bc4\u8bba"),m=Object(o.a)(O,2),v=m[0],y=m[1],g=a.a.createRef();function T(){return(T=Object(h.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=g.current)||void 0===t?void 0:t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f([(null===(n=g.current)||void 0===n?void 0:n.value)||""]);case 4:r=e.sent,c(r[0].commentText),l(r[0].attitude),x(r[0].textFeatures),y(r[0].reply);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{commentText:n,attitude:u,reply:v,textAreaRef:g,textFeatures:p,analyze:function(){return T.apply(this,arguments)}}}(),t=e.commentText,n=e.attitude,c=e.textFeatures,i=e.textAreaRef,u=e.analyze;return Object(s.jsxs)("main",{id:"single-analyses",children:[Object(s.jsxs)("article",{className:"introduction",children:[Object(s.jsx)("h1",{children:"\u4f7f\u7528\u8bf4\u660e"}),["\u8be5\u9875\u9762\u5229\u7528\u4eba\u5de5\u667a\u80fd\u5206\u6790\u5bf9\u624b\u673a\u4ea7\u54c1\u7684\u8bc4\u8bba\u3002","\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9\uff0c\u70b9\u51fb\u5f00\u59cb\u5206\u6790\u6309\u94ae\uff0c\u5c06\u8f93\u51fa\u5176\u8bc4\u8bba\u89d2\u5ea6\u3001\u8bc4\u8bba\u6001\u5ea6\u3002","\u8bc4\u8bba\u89d2\u5ea6\u53ef\u5206\u4e3a\u5916\u89c2\u3001\u5c4f\u5e55\u3001\u5145\u7535\u3001\u97f3\u6548\u3001\u62cd\u7167\u3001\u8fd0\u884c\u3001\u624b\u611f\u3002","\u8bc4\u8bba\u6001\u5ea6\u53ef\u5206\u4e3a\u79ef\u6781\u3001\u6d88\u6781\u3001\u4e2d\u6027\u3002"].map((function(e,t){return Object(s.jsx)("p",{children:e},t)}))]}),Object(s.jsxs)("article",{className:"input-area",children:[Object(s.jsx)("h1",{children:"\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9"}),Object(s.jsx)("textarea",{className:"text-area",ref:i}),Object(s.jsx)("button",{className:"ms-button primary",onClick:u,children:"\u5f00\u59cb\u5206\u6790"})]}),Object(s.jsxs)("article",{className:"output-area",children:[Object(s.jsx)("h1",{children:"\u5206\u6790\u7ed3\u679c"}),Object(s.jsx)("h2",{children:"\u8bc4\u8bba\u539f\u6587"}),Object(s.jsx)("p",{children:d(t,c)}),Object(s.jsx)("h2",{children:"\u8bc4\u8bba\u6001\u5ea6"}),Object(s.jsx)("p",{children:n})]})]},"\u5355\u6761\u5206\u6790")}},{name:"\u6279\u91cf\u5206\u6790",component:function(){var e=function(){var e=Object(r.useState)(g),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),s=Object(o.a)(i,2),u=s[0],l=s[1],d=a.a.createRef(),j=a.a.createRef(),p=a.a.createRef();function x(){return(x=Object(h.a)(b.a.mark((function e(){var t,n,r,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c((function(){return[]})),0!==(null===(t=d.current)||void 0===t||null===(n=t.files)||void 0===n?void 0:n.length)){e.next=3;break}return e.abrupt("return");case 3:r=JSON.parse(u).data,a=b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f([r[t]]);case 2:n=e.sent,c((function(e){return[].concat(Object(O.a)(e),[n[0]])}));case 4:case"end":return e.stop()}}),e)})),e.t0=b.a.keys(r);case 6:if((e.t1=e.t0()).done){e.next=11;break}return i=e.t1.value,e.delegateYield(a(i),"t2",9);case 9:e.next=6;break;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){v(j.current,y.getDataForDimensionPie(n)),v(p.current,y.getDataForAttitudePie(n))}),[n,j,p]),{results:n,inputFileRef:d,dimensionPieChartRef:j,attitudePieChartRef:p,analyze:function(){return x.apply(this,arguments)},inputFileOnChange:function(){var e,t,n;if((null===(e=d.current)||void 0===e?void 0:e.files)&&(null===(t=d.current)||void 0===t?void 0:t.files.length)>0){var r=new FileReader;r.onload=function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&l(e.target.result.toString())},r.readAsText(null===(n=d.current)||void 0===n?void 0:n.files[0])}}}}(),t=e.results,n=e.inputFileRef,c=e.dimensionPieChartRef,i=e.attitudePieChartRef,u=e.analyze,l=e.inputFileOnChange;return Object(s.jsxs)("main",{id:"multiple-analyses",children:[Object(s.jsxs)("article",{className:"introduction",children:[Object(s.jsx)("h1",{children:"\u4f7f\u7528\u8bf4\u660e"}),["\u8be5\u9875\u9762\u5229\u7528\u4eba\u5de5\u667a\u80fd\u5206\u6790\u5bf9\u624b\u673a\u4ea7\u54c1\u7684\u8bc4\u8bba\u3002","\u5bfc\u5165\u6570\u636e\u6587\u4ef6\uff0c\u70b9\u51fb\u5f00\u59cb\u5206\u6790\u6309\u94ae\uff0c\u5c06\u8f93\u51fa\u5404\u6761\u8bc4\u8bba\u5bf9\u5e94\u7684\u8bc4\u8bba\u89d2\u5ea6\u3001\u8bc4\u8bba\u6001\u5ea6\uff0c\u4ee5\u53ca\u7edf\u8ba1\u6570\u636e\u3002",'\u6570\u636e\u6587\u4ef6\u8981\u6c42\u4e3a JSON \u6587\u4ef6\uff0c\u683c\u5f0f\u4e3a\uff1a{ "data" : string[] } \u3002',"\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9\uff0c\u70b9\u51fb\u5f00\u59cb\u5206\u6790\u6309\u94ae\uff0c\u5c06\u8f93\u51fa\u5176\u8bc4\u8bba\u89d2\u5ea6\u3001\u8bc4\u8bba\u6001\u5ea6\u3002","\u8bc4\u8bba\u89d2\u5ea6\u53ef\u5206\u4e3a\u5916\u89c2\u3001\u5c4f\u5e55\u3001\u5145\u7535\u3001\u97f3\u6548\u3001\u62cd\u7167\u3001\u8fd0\u884c\u3001\u624b\u611f\u3002","\u8bc4\u8bba\u6001\u5ea6\u53ef\u5206\u4e3a\u79ef\u6781\u3001\u6d88\u6781\u3001\u4e2d\u6027\u3002"].map((function(e,t){return Object(s.jsx)("p",{children:e},t)}))]}),Object(s.jsxs)("article",{className:"import-area",children:[Object(s.jsx)("h1",{children:"\u5bfc\u5165\u6587\u4ef6"}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{type:"file",ref:n,onChange:l})}),Object(s.jsx)("button",{className:"ms-button primary",onClick:u,children:"\u5f00\u59cb\u5206\u6790"})]}),Object(s.jsxs)("article",{className:"statistical-results-area",children:[Object(s.jsx)("h1",{children:"\u7edf\u8ba1\u7ed3\u679c"}),Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"\u5404\u89d2\u5ea6\u8bc4\u8bba\u5360\u6bd4"}),Object(s.jsx)("p",{style:{display:0===t.length?"inline":"none"},children:"\u7b49\u5f85\u5bfc\u5165\u6570\u636e"}),Object(s.jsx)("div",{id:"dimensionPieChart",ref:c,style:{display:0===t.length?"none":"block"}})]}),Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"\u5404\u6001\u5ea6\u8bc4\u8bba\u5360\u6bd4"}),Object(s.jsx)("p",{style:{display:0===t.length?"inline":"none"},children:"\u7b49\u5f85\u5bfc\u5165\u6570\u636e"}),Object(s.jsx)("div",{id:"attitudePieChart",ref:i,style:{display:0===t.length?"none":"block"}})]})]}),Object(s.jsxs)("article",{className:"results-area",children:[Object(s.jsx)("h1",{children:"\u5404\u6761\u8bc4\u8bba\u5206\u6790\u7ed3\u679c"}),Object(s.jsx)("p",{style:{display:0===t.length?"inline":"none"},children:"\u7b49\u5f85\u5bfc\u5165\u6570\u636e"}),t.map((function(e,t){return Object(s.jsxs)("article",{className:"result-item",children:[Object(s.jsx)("h2",{className:"result-item-commentText",children:"\u8bc4\u8bba\u539f\u6587"}),Object(s.jsx)("p",{children:d(e.commentText,e.textFeatures)}),Object(s.jsx)("h2",{className:"result-item-attitude",children:"\u8bc4\u8bba\u6001\u5ea6"}),Object(s.jsx)("p",{children:e.attitude})]},t)}))]})]},"\u591a\u6761\u5206\u6790")}}];var w=function(){var e=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),n=t[0],a=function(e){var t=e.setCurrentTab;return{goToTab:function(e){return t(e)}}}({setCurrentTab:t[1]});return Object(l.a)({tabs:T,currentTab:n},a)}(),t=e.tabs,n=e.currentTab,a=e.goToTab;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(u,{tabs:t,currentTab:n,goToTab:a}),Object(s.jsx)("div",{className:"tab-shaper",children:Object(s.jsx)("div",{className:"tab-container",children:t.filter((function(e,t){return t===n})).map((function(e){return Object(s.jsx)(e.component,{})}))})})]})};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d86f16cf.chunk.js.map